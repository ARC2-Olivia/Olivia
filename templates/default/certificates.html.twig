{% extends 'base.html.twig' %}
{% trans_default_domain 'app' %}

{% block body %}
    <div class="index-banner" style="background-image: url('{{ asset('build/images/bg-index.png') }}')">
        <div class="container index-banner-wrapper">
            <div class="index-banner-title">{{ 'app.brand.short'|trans }}</div>
            <div class="index-banner-subtitle">{{ 'nav.certificates'|trans }}</div>
        </div>
    </div>
    <div class="container py-5">
        <h2>{{ 'certificate.page.section.achieved'|trans }}</h2>
        {% if courses.certified is not empty %}
            <ul class="certificate-list">
                {% if courses.golden %}
                    <li class="certificate-list-item">{% include 'default/_certificates_item_golden.html.twig' with {'certified': true} only %}</li>
                {% endif %}
                {% for course in courses.certified %}
                    <li class="certificate-list-item">{% include 'default/_certificates_item.html.twig' with {'course': course, 'certified': true} only %}</li>
                {% endfor %}
            </ul>
        {% endif %}
        <h2 class="mt-3">{{ 'certificate.page.section.nonAchieved'|trans }}</h2>
        {% if courses.uncertified is not empty %}
            <ul class="certificate-list uncertified">
                {% if not courses.golden %}
                    <li class="certificate-list-item">{% include 'default/_certificates_item_golden.html.twig' %}</li>
                {% endif %}
                {% for course in courses.uncertified %}
                    <li class="certificate-list-item">{% include 'default/_certificates_item.html.twig' with {'course': course} only %}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style>
        ul.certificate-list {
            list-style: none;
            padding-left: 0;
        }
        
        .certificate-list {
            display: flex;
            flex-direction: column;
        }
        
        .certificate-list-item {
            display: flex;
            align-items: center;
            gap: 8px;
            justify-content: space-between;
            padding: 12px 8px
        }
        
        .certificate-list-item:hover {
            background-color: rgba(0, 0, 0, 0.0625);
        }
        
        .certificate-list-item:not(:only-child):not(:first-child) {
            border-top: 1px solid rgba(0, 0, 0, 0.25);
        }
        
        .certificate-list-item-icon {
            flex-basis: 1.3rem;
            flex-shrink: 0;
        }
        
        .certificate-list-item-name {
            flex-basis: 0;
            flex-grow: 1;
        }
        
        .certificate-list-item-actions {
            display: flex;
            gap: 4px;
            flex-basis: fit-content;
            flex-shrink: 0;
            justify-content: end;
        }
        
        .uncertified :is(.certificate-list-item-name, .certificate-list-item-icon) {
            opacity: 0.75;
            filter: saturate(0.25);
        }
        
        .certificate-list-item-actions .btn {
            flex-shrink: 0;
        }
        
        @media screen and (max-width: 991px) {
            .certificate-list-item-actions {
                flex-direction: column;
            }
        }
    </style>
{% endblock %}