{% extends 'evaluation/_base_evaluation.html.twig' %}
{% trans_default_domain 'app' %}

{% block evaluationContent %}
    {% include 'evaluation/evaluation_question/_form.html.twig' %}
    <div class="text-end">
        <button type="submit" form="{{ form.vars.id }}" class="btn btn-theme-white bg-blue">{{ 'common.save'|trans }}</button>
    </div>

    {% if evaluationQuestion.type == constant('TYPE_WEIGHTED', evaluationQuestion) %}
        <hr>
        {% if evaluationQuestion.practicalSubmoduleQuestionAnswers.count > 0 %}
            <ul class="mod--evaluation-question-answers">
                {% for evaluationQuestionAnswer in evaluationQuestion.practicalSubmoduleQuestionAnswers %}
                    <li class="mod--evaluation-question-answer">
                        <div class="mod--evaluation-question-answer-details">
                            <div class="mod--evaluation-question-answer-text">{{ evaluationQuestionAnswer.answerText }}</div>
                            <div class="mod--evaluation-question-answer-value">{{ evaluationQuestionAnswer.answerValue }}</div>
                        </div>
                        <div class="mod--evaluation-question-actions">
                            <form action="{{ path('practical_submodule_question_answer_delete', {'practicalSubmoduleQuestionAnswer': evaluationQuestionAnswer.id}) }}"
                                  method="post"
                                  onsubmit="return confirm('{{ 'evaluationQuestionAnswer.delete'|trans }}')"
                            >
                                <input type="hidden" name="_csrf_token" value="{{ csrf_token('evaluationQuestionAnswer.delete') }}"/>
                                <button type="submit" class="btn btn-sm btn-round btn-theme-white bg-red">{{ mdi('trash-can-outline') }}</button>
                            </form>
                            <a href="{{ path('practical_submodule_question_answer_edit', {'practicalSubmoduleQuestionAnswer': evaluationQuestionAnswer.id}) }}"
                               class="btn btn-sm btn-round btn-theme-white bg-green"
                            >
                                {{ mdi('pencil') }}
                            </a>
                        </div>
                    </li>
                {% endfor %}
            </ul>
        {% endif %}
        <div class="text-end">
            <a href="{{ path('practical_submodule_question_add_weighted_answer', {'practicalSubmoduleQuestion': evaluationQuestion.id}) }}" class="btn btn-link btn-sm">
                {{ mdi('plus') }} {{ 'evaluation.extra.answer'|trans }}
            </a>
        </div>
    {% endif %}

{% endblock %}